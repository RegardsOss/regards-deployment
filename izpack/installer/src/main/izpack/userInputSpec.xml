<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<!-- LICENSE_PLACEHOLDER -->
<izpack:userinput version="5.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:izpack="http://izpack.org/schema/userinput"
	xsi:schemaLocation="http://izpack.org/schema/userinput http://izpack.org/schema/5.0/izpack-userinput-5.0.xsd">
	<!-- <panel id="DataBasePanel"> -->
	<!-- <field id="database.label" txt="" type="title" /> -->
	<!-- <field type="text" variable="pgsql.host"> -->
	<!-- <spec txt="Database Host:" size="15" set="${database.host}" /> -->
	<!-- </field> -->
	<!-- <field type="text" variable="pgsql.port"> -->
	<!-- <spec txt="Database Port:" size="15" set="${database.port}" /> -->
	<!-- </field> -->
	<!-- <field type="text" variable="pgsql.sid"> -->
	<!-- <spec txt="Database SID:" size="15" set="" /> -->
	<!-- </field> -->
	<!-- <field type="text" variable="pgsql.user"> -->
	<!-- <spec txt="Database Username:" size="15" set="" /> -->
	<!-- </field> -->
	<!-- <field type="password" variable="pgsql.password"> -->
	<!-- <spec> -->
	<!-- <pwd txt="Database Password:" size="15" set="" /> -->
	<!-- <pwd txt="Retype Password:" size="15" set="" /> -->
	<!-- </spec> -->
	<!-- <validator -->
	<!-- class="com.izforge.izpack.panels.userinput.validator.PasswordEqualityValidator" -->
	<!-- txt="Both versions of the password must match" /> -->
	<!-- </field> -->
	<!-- </panel> -->

	<panel id="SelectSecurityLevelPanel">
		<field id="selectsecuritylevelpanel.title.label" type="title" />
		<field type="radio" variable="security.level.selected">
			<spec>
				<choice id="selectsecuritylevelpanel.normal.label" value="normal"
					set="true" />
				<choice id="selectsecuritylevelpanel.enforce.label" value="enforce" />
			</spec>
		</field>
		<field type="space" />
		<field id="selectsecuritylevelpanel.title.label" type="divider"
			align="top" />
		<field type="space" />
		<field type="staticText" align="left"
			id="selectsecuritylevelpanel.enforce.description.1.label" bold="true"/>
		<field type="staticText" align="left"
			id="selectsecuritylevelpanel.enforce.description.2.label" bold="false"/>
		<field type="staticText" align="left"
			id="selectsecuritylevelpanel.enforce.description.3.label" bold="false"/>
		<field type="staticText" align="left"
			id="selectsecuritylevelpanel.enforce.description.4.label" bold="false"/>
		<field type="staticText" align="left"
			id="selectsecuritylevelpanel.enforce.description.5.label" bold="false"/>
	</panel>
	
	<!-- TODO GBN, Les tooltip ne marche pas -->
	<panel id="ConfigSecurityMicroservicesPanel">
		<field id="configsecuritylevelpanel.title.label" type="title" />
		<field type="text" variable="regards.config.regards.microservices.exec.user"
				tooltip="configsecuritylevelpanel.exec.user.tooltip">
			<spec size="15" id="configsecuritylevelpanel.exec.user.label" set="${regards.config.regards.microservices.exec.user}"/>
		</field>
		<field type="space" />
		<field id="selectsecuritylevelpanel.title.label" type="divider"
			align="top" />
		<field type="space" />
		<field type="text" variable="regards.config.regards.microservices.regards.group" tooltip="configsecuritylevelpanel.regards.group.tooltip" id="configsecuritylevelpanel.exec.group.label">
			<spec size="15" id="configsecuritylevelpanel.regards.group.label" set="${regards.config.regards.microservices.regards.group}"/>
		</field>
		<field type="text" variable="regards.config.regards.microservices.exec.group" tooltip="configsecuritylevelpanel.exec.group.tooltip" id="configsecuritylevelpanel.exec.group.label">
			<spec size="15" id="configsecuritylevelpanel.exec.group.label" set="${regards.config.regards.microservices.exec.group}"/>
		</field>
		<field type="text" variable="regards.config.regards.microservices.admin.group" tooltip="configsecuritylevelpanel.admin.group.tooltip" id="configsecuritylevelpanel.exec.group.label" size="35">
			<spec size="15" id="configsecuritylevelpanel.admin.group.label" set="${regards.config.regards.microservices.admin.group}"/>
		</field>
		<field type="text" variable="regards.config.regards.microservices.runtime.group" tooltip="configsecuritylevelpanel.runtime.group.tooltip" id="configsecuritylevelpanel.exec.group.label">
			<spec size="15" id="configsecuritylevelpanel.runtime.group.label" set="${regards.config.regards.microservices.runtime.group}"/>
		</field>
	</panel>

	<panel id="SelectComponentsPanel">
		<field id="selectcomponentspanel.title.label" type="title" />
		<field type="check" variable="frontend.selected">
			<spec id="selectcomponentspanel.frontend.label" true="true"
				false="false" />
		</field>
		<field type="check" variable="microservices.selected">
			<spec id="selectcomponentspanel.microservices.label" true="true"
				false="false" />
		</field>
	</panel>

	<panel id="SelectMicroservicesPanel">
		<field id="selectmicroservicesspanel.title.label" type="title" />
		<field type="check" variable="config.selected">
			<spec id="selectmicroservicespanel.config.label" true="true"
				false="false" set="true" />
		</field>
		<field type="check" variable="registry.selected">
			<spec id="selectmicroservicespanel.registry.label" true="true"
				false="false" set="true" />
		</field>
		<field type="check" variable="gateway.selected">
			<spec id="selectmicroservicespanel.gateway.label" true="true"
				false="false" set="true" />
		</field>
		<field type="check" variable="microservices.admin.selected">
			<spec id="selectmicroservicespanel.admin.label" true="true"
				false="false" set="true" />
		</field>
		<field type="check" variable="microservices.dam.selected">
			<spec id="selectmicroservicespanel.dam.label" true="true"
				false="false" set="true" />
		</field>
		<field type="check" variable="microservices.catalog.selected">
			<spec id="selectmicroservicespanel.catalog.label" true="true"
				false="false" set="true" />
		</field>
		<field type="check" variable="microservices.access.selected">
			<spec id="selectmicroservicespanel.access.label" true="true"
				false="false" set="true" />
		</field>
	</panel>

	<panel id="CommonConfigPanel">
		<field id="commonconfigpanel.title.label" type="title" />

		<field type="text" variable="regards.config.cloud.config.address">
			<spec id="commonconfigpanel.config.address.label" size="15">
				<!-- <processor class="fr.cnes.regards.deployment.izpack.processor.ProcessorMicroserviceList"/> -->
			</spec>
			<!-- TODO GBN : Faire un validator correcte -->
			<!-- <validator class="com.izforge.izpack.panels.userinput.validator.HostAddressValidator" -->
			<!-- id="validator.host.error.label"/> -->
		</field>

		<field type="text" variable="regards.config.cloud.config.port">
			<spec id="commonconfigpanel.config.port.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.PortValidator"
				id="validator.port.error.label" />
		</field>
	</panel>

	<panel id="RegistryConfigPanel">
		<field id="registry.configpanel.title.label"
			type="title" />
		<field type="custom" minRow="1" maxRow="50"
			variable="microservice.registry.count">
			<spec>
				<col>
					<field type="text" variable="microservice.registry.uri">
						<spec id="registry.configpanel.host.label" size="15"
							set="${microservice.registry.uri}" />
						<!-- TODO GBN : Faire un validator correcte -->
						<!-- <validator class="com.izforge.izpack.panels.userinput.validator.HostAddressValidator" -->
						<!-- id="validator.host.error.label"/> -->
					</field>
				</col>
				<col>
					<field type="text" variable="microservice.registry.port">
						<spec id="registry.configpanel.port.label" size="15"
							set="${microservice.registry.port}">
						</spec>
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label">
						</validator>
					</field>
				</col>
			</spec>
			<validator
				class="fr.cnes.regards.deployment.izpack.validator.ValidatorMicroserviceList" />
		</field>
	</panel>

	<!-- TODO GBN : Finir les config -->
	<!-- <panel id="FrontendPanel"> -->
	<!-- <field txt="REGARDS Frontend configuration" type="title" /> -->
	<!-- <field type="text" variable="frontend.port"> -->
	<!-- <spec txt="Frontend Web serveur port:" size="15" set="${frontend.port}" 
		/> -->
	<!-- </field> -->
	<!-- <field type="text" variable="registry.host"> -->
	<!-- <spec txt="Gateway server adress:" size="15" -->
	<!-- set="https://localhost:${gateway.port}" /> -->
	<!-- </field> -->
	<!-- </panel> -->

	<!-- <panel id="GatewayPanel"> -->
	<!-- <field txt="REGARDS Gateway configuration" type="title" /> -->
	<!-- <field type="text" variable="gateway.port"> -->
	<!-- <spec txt="Gateway Web serveur port:" size="15" set="${gateway.port}" 
		/> -->
	<!-- </field> -->
	<!-- <field type="staticText" align="left" -->
	<!-- txt="Select authentication plugins : " /> -->
	<!-- <field type="check" variable="gateway.auth.plugin.ldap"> -->
	<!-- <spec txt="LDAP Authentication Plugin" true="true" false="false" -->
	<!-- set="${gateway.auth.plugin.ldap}" /> -->
	<!-- </field> -->
	<!-- <field type="check" variable="gateway.auth.plugin.ldap"> -->
	<!-- <spec txt="Active Directory Authentication Plugin" true="true" -->
	<!-- false="false" set="${gateway.auth.plugin.ldap}" /> -->
	<!-- </field> -->
	<!-- <field type="check" variable="gateway.auth.plugin.ldap"> -->
	<!-- <spec txt="Shibboleth Authentication Plugin" true="true" false="false" -->
	<!-- set="${gateway.auth.plugin.ldap}" /> -->
	<!-- </field> -->
	<!-- </panel> -->

	<!-- TODO GBN : Voir ce qu'on garde -->
	<!-- <panel id="MicroservicesPanel"> -->
	<!-- <field txt="REGARDS Microservice(s) configuration" type="title" /> -->
	<!-- <field type="staticText" align="left" -->
	<!-- txt="Select miroservices to install : " /> -->
	<!-- <field type="check" variable="ms.administration"> -->
	<!-- <spec txt="Administration" true="true" false="false" set="false" /> -->
	<!-- </field> -->
	<!-- <field type="check" variable="ms.ingest"> -->
	<!-- <spec txt="Ingest" true="true" false="false" set="false" /> -->
	<!-- </field> -->
	<!-- <field type="check" variable="ms.ingest"> -->
	<!-- <spec txt="Data provider" true="true" false="false" set="false" /> -->
	<!-- </field> -->
	<!-- <field type="check" variable="ms.ingest"> -->
	<!-- <spec txt="Archival Storage" true="true" false="false" set="false" 
		/> -->
	<!-- </field> -->
	<!-- <field type="check" variable="ms.ingest"> -->
	<!-- <spec txt="Data management" true="true" false="false" set="false" /> -->
	<!-- </field> -->
	<!-- <field type="check" variable="ms.ingest"> -->
	<!-- <spec txt="Catalog" true="true" false="false" set="false" /> -->
	<!-- </field> -->
	<!-- <field type="check" variable="ms.ingest"> -->
	<!-- <spec txt="Order" true="true" false="false" set="false" /> -->
	<!-- </field> -->
	<!-- <field type="check" variable="ms.ingest"> -->
	<!-- <spec txt="Processing" true="true" false="false" set="false" /> -->
	<!-- </field> -->
	<!-- </panel> -->

	<!-- <panel id="ArchivalStoragePanel"> -->
	<!-- <field txt="Archival Storage configuration" type="title" /> -->
	<!-- <field type="text" variable="pgsql.user"> -->
	<!-- <spec txt="Number of instance to install:" size="5" set="0" /> -->
	<!-- </field> -->
	<!-- <field type="radio" variable="radioSelection"> -->
	<!-- <description -->
	<!-- txt="Install all microservices in the same web server ?" /> -->
	<!-- <spec> -->
	<!-- <choice txt="Yes" value="1 selected" set="true" /> -->
	<!-- <choice txt="No" value="2 selected" /> -->
	<!-- </spec> -->
	<!-- </field> -->
	<!-- <field type="staticText" align="left" txt="Select plugins to install 
		: " /> -->
	<!-- <field type="check" variable="ms.administration"> -->
	<!-- <spec txt="STAF" true="true" false="false" set="false" /> -->
	<!-- </field> -->
	<!-- <field type="check" variable="ms.ingest"> -->
	<!-- <spec txt="Local disk" true="true" false="false" set="false" /> -->
	<!-- </field> -->
	<!-- </panel> -->
</izpack:userinput>
