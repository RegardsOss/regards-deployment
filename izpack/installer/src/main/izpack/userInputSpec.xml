<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<!--
 Copyright 2017-2018 CNES - CENTRE NATIONAL d'ETUDES SPATIALES
 
 This file is part of REGARDS.
 
 REGARDS is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.
 
 REGARDS is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU General Public License for more details.
 
 You should have received a copy of the GNU General Public License
 along with REGARDS. If not, see <http://www.gnu.org/licenses/>.
-->
<izpack:userinput version="5.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:izpack="http://izpack.org/schema/userinput"
	xsi:schemaLocation="http://izpack.org/schema/userinput http://izpack.org/schema/5.0/izpack-userinput-5.0.xsd">

	<panel id="SelectSecurityLevelPanel">
		<field id="selectsecuritylevel.panel.title.label" type="title" />
		<field type="radio" variable="security.level">
			<spec>
				<choice id="selectsecuritylevel.panel.normal.label" value="normal"
					set="true" />
				<choice id="selectsecuritylevel.panel.enforce.label" value="enforce" />
			</spec>
		</field>
		<field type="space" />
		<field type="divider" />
		<field type="space" />
		<field type="staticText" align="left"
			id="selectsecuritylevel.panel.enforce.description.1.label" bold="true" />
		<field type="staticText" align="left"
			id="selectsecuritylevel.panel.enforce.description.2.label" bold="false" />
		<field type="staticText" align="left"
			id="selectsecuritylevel.panel.enforce.description.3.label" bold="false" />
		<field type="staticText" align="left"
			id="selectsecuritylevel.panel.enforce.description.4.label" bold="false" />
	</panel>

	<panel id="ConfigSecurityPanel">
		<field id="configsecuritylevel.panel.title.label" type="title" />
		<field type="text" variable="regards.config.regards.microservices.exec.user">
			<spec size="15" id="configsecuritylevel.panel.exec.user.label"
				default="${regards.config.regards.microservices.exec.user}" />
		</field>
		<field type="space" />
		<field id="selectsecuritylevel.panel.title.label" type="divider"
			align="top" />
		<field type="space" />
		<field type="text" variable="regards.config.regards.microservices.regards.group"
			id="configsecuritylevel.panel.exec.group.label">
			<spec size="15" id="configsecuritylevel.panel.regards.group.label"
				default="${regards.config.regards.microservices.regards.group}" />
		</field>
		<field type="text" variable="regards.config.regards.microservices.exec.group"
			id="configsecuritylevel.panel.exec.group.label">
			<spec size="15" id="configsecuritylevel.panel.exec.group.label"
				default="${regards.config.regards.microservices.exec.group}" />
		</field>
		<field type="text" variable="regards.config.regards.microservices.admin.group"
			id="configsecuritylevel.panel.exec.group.label" size="35">
			<spec size="15" id="configsecuritylevel.panel.admin.group.label"
				default="${regards.config.regards.microservices.admin.group}" />
		</field>
		<field type="text" variable="regards.config.regards.microservices.runtime.group"
			id="configsecuritylevel.panel.exec.group.label">
			<spec size="15" id="configsecuritylevel.panel.runtime.group.label"
				default="${regards.config.regards.microservices.runtime.group}" />
		</field>
	</panel>

	<panel id="SelectInstallationTypePanel">
		<field id="selectinstallationtype.panel.title.label" type="title" />
		<field type="radio" variable="installation.type">
			<spec>
				<choice id="selectinstallationtype.panel.radio.full.label"
					value="full" set="true" />
				<choice id="selectinstallationtype.panel.radio.cloud.label"
					value="cloud" />
			</spec>
		</field>
	</panel>

	<panel id="LinkToExistingConfigPanel">
		<field id="linktoexistingconfig.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="1" variable="config.count">
			<spec>
				<col>
					<field type="text" variable="config.host">
						<spec id="host.label" size="15" default="${config.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="config.port">
						<spec id="port.label" size="15" default="${config.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="ProjectPanel">
		<field id="project.panel.title.label" type="title" />
		<field type="text" variable="regards.config.first.project" size="35">
			<spec size="15" id="project.panel.project.label" default="${regards.config.first.project.default.value}" />
		</field>
		<field type="text" variable="regards.config.workspace.directory"
			size="35">
			<spec size="15" id="workspace.folder.label" default="${regards.config.workspace.directory.default.value}" />
			<!--<validator-->
				<!--class="fr.cnes.regards.deployment.izpack.custom.validator.FolderValidator"-->
				<!--id="validator.folder.error.no.sufficient.rights" />-->
		</field>
		
		<field type="staticText" id="proxy.config.header" />
		
		<field type="text" variable="regards.config.http.proxy.host">
			<spec id="host.label" size="15" />
		</field>
		<field type="text" variable="regards.config.http.proxy.port">
			<spec id="port.label" size="15" default="0"/>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.IsPortValidator"
				id="validator.port.error.label" />
		</field>

	</panel>

	<panel id="ConfigPanel">
		<field id="config.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="1" variable="config.count">
			<spec>
				<col>
					<field type="text" variable="config.host">
						<spec id="host.label" size="15" default="${config.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="config.port">
						<spec id="port.label" size="15" default="${config.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="RegistryPanel">
		<field id="registry.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="1" variable="registry.count">
			<spec>
				<col>
					<field type="text" variable="regards.config.cloud.registry.host">
						<spec id="host.label" size="15"
							default="${regards.config.cloud.registry.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="regards.config.cloud.registry.port">
						<spec id="port.label" size="15"
							default="${regards.config.cloud.registry.port}">
						</spec>
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="GatewayPanel">
		<field id="gateway.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="1" variable="gateway.count">
			<spec>
				<col>
					<field type="text" variable="gateway.host">
						<spec id="host.label" size="15" default="${gateway.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="gateway.port">
						<spec id="port.label" size="15" default="${gateway.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="RabbitmqPanel">
		<field id="rabbitmq.panel.title.label" type="title" />
		<field type="staticText" id="rabbitmq.panel.rabbitmq.label"
			bold="true" />
		<field type="text" variable="regards.config.spring.rabbitmq.host">
			<spec id="host.label" size="15"
				default="${regards.config.spring.rabbitmq.host}" />
		</field>
		<field type="text" variable="regards.config.spring.rabbitmq.port">
			<spec id="port.label" size="15"
				default="${regards.config.spring.rabbitmq.port}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.PortValidator"
				id="validator.port.error.label" />
		</field>
		<field type="text" variable="regards.config.spring.rabbitmq.username">
			<spec id="username.label" size="15"
				default="${regards.config.spring.rabbitmq.username}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password" variable="regards.config.spring.rabbitmq.password">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="space" />
		<field type="divider" />
		<field type="space" />
		<field type="staticText" id="rabbitmq.panel.amqp.label" bold="true" />
		<field type="text" variable="regards.config.regards.amqp.management.host">
			<spec id="host.label" size="15"
				default="${regards.config.regards.amqp.management.host}" />
		</field>
		<field type="text" variable="regards.config.regards.amqp.management.port">
			<spec id="port.label" size="15"
				default="${regards.config.regards.amqp.management.port}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.PortValidator"
				id="validator.port.error.label" />
		</field>
	</panel>

	<panel id="AdminInstancePanel">
		<field id="admin.panel.title.label.instance" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="admin-instance.count">
			<spec>
				<col>
					<field type="text" variable="admin-instance.host">
						<spec id="host.label" size="15" default="${admin-instance.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="admin-instance.port">
						<spec id="port.label" size="15" default="${admin-instance.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.IsPortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>
 
	<panel id="AdminInstancePropertiesPanel">
		<field id="admin.panel.title.label.instance.properties" type="title" />

		<field type="staticText" id="admin.panel.root.user.label" />
		<field type="text"
			variable="regards.config.admin.regards.accounts.root.user.login">
			<spec id="email.label" size="15"
				default="${regards.config.admin.regards.accounts.root.user.login}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.email.label" />
		</field>
		<field type="password"
			variable="regards.config.admin.regards.accounts.root.user.password">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="staticText" id="instance.database.label" bold="true" />
		<field type="rule"
			variable="regards.config.admin.regards.jpa.instance.datasource.url">
			<spec default="${regards.config.admin.regards.jpa.instance.datasource.url}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.admin.regards.jpa.instance.datasource.user.name">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.admin.regards.jpa.instance.datasource.password">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
	</panel>

	<panel id="AdminPanel">
		<field id="admin.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="admin.count">
			<spec>
				<col>
					<field type="text" variable="admin.host">
						<spec id="host.label" size="15" default="${admin.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="admin.port">
						<spec id="port.label" size="15" default="${admin.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.IsPortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>
	
	<panel id="AdminPropertiesPanel">
		<field id="admin.panel.title.label.properties" type="title" />

		<field type="staticText" id="first.project.database.label" bold="true" />
		<field type="rule"
			variable="regards.config.admin.regards.jpa.multitenant.tenants.url.1">
			<spec default="${regards.config.admin.regards.jpa.multitenant.tenants.url.1}"
				id="url.label" layout="O:15:U : N:5:5 / O:10:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.admin.regards.jpa.multitenant.tenants.user.name.1">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.admin.regards.jpa.multitenant.tenants.password.1">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
	</panel>	

	<panel id="AccountsPanel">
		<field id="accounts.panel.title.label" type="title" />
		<field type="staticText" id="accounts.panel.title.header" bold="true" />
		<field type="space" />

		<field type="text" variable="regards.accounts.validity.duration">
			<spec id="accounts.panel.accounts.validity.duration.label" size="3"
				default="${regards.accounts.validity.duration}" />
		</field>
		<field type="space" />
		<field type="divider" />
		<field type="space" />
		<field type="staticText" id="accounts.panel.passwords.label"
			bold="true" />
		<field type="text" variable="regards.config.admin.accounts.password.regex">
			<spec id="accounts.panel.regex.label" size="15"
				default="${regards.config.admin.accounts.password.regex}" />
		</field>
		<field type="text" variable="regards.config.admin.accounts.password.rules">
			<spec id="accounts.panel.password.rules.label" size="30"
				default="${regards.config.admin.accounts.password.rules}" />
		</field>
		<field type="text"
			variable="regards.config.admin.accounts.password.validity.duration">
			<spec id="accounts.panel.password.validity.duration.label" size="3"
				default="${regards.config.admin.accounts.password.validity.duration}" />
		</field>
		<field type="space" />
		<field type="divider" />
		<field type="space" />
		<field type="staticText" id="accounts.panel.connecting.label"
			bold="true" />
		<field type="text"
			variable="regards.config.admin.accounts.failed.authentication.max">
			<spec id="accounts.panel.failed.authentication.max.label" size="3"
				default="${regards.config.admin.accounts.failed.authentication.max}" />
		</field>
	</panel>

	<panel id="SmtpPanel">
		<field id="smtp.panel.title" type="title" />
		<field id="smtp.panel.detail" type="staticText" />
		<field type="text" variable="spring.mail.host">
			<spec id="host.label" size="15" default="${spring.mail.host}" />
		</field>
		<field type="text" variable="spring.mail.port">
			<spec id="port.label" size="5" default="${spring.mail.port}" />
		</field>
		<field type="text" variable="spring.mail.username">
			<spec id="username.label" size="15" />
		</field>
		<field type="password" variable="spring.mail.password">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
		</field>
		<field type="text" variable="spring.mail.sender.no.reply">
			<spec id="sender.no.reply" size="30" default="${spring.mail.sender.no.reply}" />
		</field>
	</panel>

	<panel id="AuthenticationPanel">
		<field id="authentication.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="authentication.count">
			<spec>
				<col>
					<field type="text" variable="authentication.host">
						<spec id="host.label" size="15" default="${authentication.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="authentication.port">
						<spec id="port.label" size="15" default="${authentication.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="AuthenticationPropertiesPanel">
		<field type="staticText" id="first.project.database.label" />
		<field type="rule"
			variable="regards.config.gateway.regards.jpa.multitenant.tenants.url.1">
			<spec
				default="${regards.config.gateway.regards.jpa.multitenant.tenants.url.1}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.gateway.regards.jpa.multitenant.tenants.user.name.1">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.gateway.regards.jpa.multitenant.tenants.password.1">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
	</panel>

	<panel id="StoragePanel">
		<field id="storage.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="storage.count">
			<spec>
				<col>
					<field type="text" variable="storage.host">
						<spec id="host.label" size="15" default="${storage.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="storage.port">
						<spec id="port.label" size="15" default="${storage.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="StoragePropertiesPanel">
		<field id="storage.panel.title.label.properties" type="title" />
		<field type="staticText" id="first.project.database.label" />
		<field type="rule"
			variable="regards.config.storage.regards.jpa.multitenant.tenants.url.1">
			<spec
				default="${regards.config.storage.regards.jpa.multitenant.tenants.url.1}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.storage.regards.jpa.multitenant.tenants.user.name.1">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.storage.regards.jpa.multitenant.tenants.password.1">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="text" variable="regards.config.storage.regards.jobs.pool.size">
			<spec id="jobs.pool.size" size="15"
				default="${regards.config.storage.regards.jobs.pool.size}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="staticText" id="jobs.completion.update.rate.ms.header" />
		<field type="text"
			variable="regards.config.storage.regards.jobs.completion.update.rate.ms">
			<spec id="jobs.completion.update.rate.ms" size="15"
				default="${regards.config.storage.regards.jobs.completion.update.rate.ms}" />
		</field>

		<field type="staticText" id="jobs.retention.days.header" />
		<field type="text"
			variable="regards.config.storage.regards.jobs.succeeded.retention.days">
			<spec id="jobs.succeeded.retention.days" size="15"
				default="${regards.jobs.succeeded.retention.days.default.value}" />
		</field>
		<field type="text"
			variable="regards.config.storage.regards.jobs.failed.retention.days">
			<spec id="jobs.failed.retention.days" size="15"
				default="${regards.jobs.failed.retention.days.default.value}" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="text" variable="regards.config.storage.cache.directory">
			<spec id="storage.panel.cache.directory" size="35"
				default="${regards.config.storage.cache.directory.default.value}" />
			<!--<validator -->
			<!--class="fr.cnes.regards.deployment.izpack.custom.validator.FolderValidator" -->
			<!--id="validator.folder.error.not.exists" /> -->
		</field>
	</panel>

	<panel id="DamPanel">
		<field id="dam.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="dam.count">
			<spec>
				<col>
					<field type="text" variable="dam.host">
						<spec id="host.label" size="15" default="${dam.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="dam.port">
						<spec id="port.label" size="15" default="${dam.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="DamPropertiesPanel">
		<field id="dam.panel.title.label.properties" type="title" />
		<field type="staticText" id="first.project.database.label" bold="true" />
		<field type="rule"
			variable="regards.config.dam.regards.jpa.multitenant.tenants.url.1">
			<spec default="${regards.config.dam.regards.jpa.multitenant.tenants.url.1}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.dam.regards.jpa.multitenant.tenants.user.name.1">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.dam.regards.jpa.multitenant.tenants.password.1">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="staticText" id="dam.panel.elasticsearch.label"
			bold="true" />
		<field type="text" variable="regards.config.elasticsearch.host">
			<spec id="host.label" size="15"
				default="${regards.config.elasticsearch.host}" />
		</field>
		<field type="text" variable="regards.config.elasticsearch.http.port">
			<spec id="port.label" size="15"
				default="${regards.config.elasticsearch.http.port}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.PortValidator"
				id="validator.port.error.label" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="staticText" id="dam.panel.local.storage.header" />
		<field type="text" variable="regards.config.dam.regards.local_storage.path">
			<spec id="dam.panel.local.storage" size="28"
				default="${regards.dam.local_storage.path.default.value}" />
			<!--<validator -->
			<!--class="fr.cnes.regards.deployment.izpack.custom.validator.FolderValidator" -->
			<!--id="validator.folder.error.not.exists" /> -->
		</field>
	</panel>

	<panel id="CatalogPanel">
		<field id="catalog.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="catalog.count">
			<spec>
				<col>
					<field type="text" variable="catalog.host">
						<spec id="host.label" size="15" default="${catalog.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="catalog.port">
						<spec id="port.label" size="15" default="${catalog.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="CatalogPropertiesPanel">
		<field id="catalog.panel.title.label.properties" type="title" />

		<field type="staticText" id="first.project.database.label" bold="true" />
		<field type="rule"
			variable="regards.config.catalog.regards.jpa.multitenant.tenants.url.1">
			<spec
				default="${regards.config.catalog.regards.jpa.multitenant.tenants.url.1}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.catalog.regards.jpa.multitenant.tenants.user.name.1">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.catalog.regards.jpa.multitenant.tenants.password.1">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
	</panel>

	<panel id="OrderPanel">
		<field id="order.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="order.count">
			<spec>
				<col>
					<field type="text" variable="order.host">
						<spec id="host.label" size="15" default="${order.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="order.port">
						<spec id="port.label" size="15" default="${order.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="OrderPropertiesPanel">
		<field id="order.panel.title.label.properties" type="title" />

		<field type="staticText" id="first.project.database.label" />
		<field type="rule"
			variable="regards.config.order.regards.jpa.multitenant.tenants.url.1">
			<spec default="${regards.config.order.regards.jpa.multitenant.tenants.url.1}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.order.regards.jpa.multitenant.tenants.user.name.1">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.order.regards.jpa.multitenant.tenants.password.1">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="text" variable="regards.config.order.regards.jobs.pool.size">
			<spec id="jobs.pool.size" size="15"
				default="${regards.config.order.regards.jobs.pool.size}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="staticText" id="jobs.completion.update.rate.ms.header" />
		<field type="text"
			variable="regards.config.order.regards.jobs.completion.update.rate.ms">
			<spec id="jobs.completion.update.rate.ms" size="15"
				default="${regards.config.order.regards.jobs.completion.update.rate.ms}" />
		</field>
		<field type="text"
			variable="regards.config.order.regards.order.files.bucket.size.Mb">
			<spec id="order.files.bucket.size.Mb" size="15"
				default="${regards.config.order.regards.order.files.bucket.size.Mb}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="text"
			variable="regards.config.order.regards.order.validation.period.days">
			<spec id="order.validation.period.days" size="15"
				default="${regards.config.order.regards.order.validation.period.days}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="text"
			variable="regards.config.order.regards.order.days.before.considering.order.as.aside">
			<spec id="order.days.before.considering.order.as.aside" size="15"
				default="${regards.config.order.regards.order.days.before.considering.order.as.aside}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="text" variable="regards.config.order.regards.order.secret">
			<spec id="order.secret" size="15"
				default="${regards.config.order.regards.order.secret}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="text"
			variable="regards.config.order.regards.order.files.displayable.maximum">
			<spec id="order.files.displayable.maximum" size="15"
				default="${regards.config.order.regards.order.files.displayable.maximum}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="text"
			variable="regards.config.order.regards.order.max.storage.files.jobs.per.user">
			<spec id="order.max.storage.files.jobs.per.user" size="15"
				default="${regards.config.order.regards.order.max.storage.files.jobs.per.user}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>

		<field type="staticText" id="jobs.retention.days.header" />
		<field type="text"
			variable="regards.config.order.regards.jobs.succeeded.retention.days">
			<spec id="jobs.succeeded.retention.days" size="15"
				default="${regards.jobs.succeeded.retention.days.default.value}" />
		</field>
		<field type="text"
			variable="regards.config.order.regards.jobs.failed.retention.days">
			<spec id="jobs.failed.retention.days" size="15"
				default="${regards.jobs.failed.retention.days.default.value}" />
		</field>

		<field type="staticText"
			id="order.periodic.files.availability.check.cron.header" />
		<field type="text"
			variable="regards.config.order.regards.order.periodic.files.availability.check.cron">
			<spec id="order.periodic.files.availability.check.cron" size="15"
				default="${regards.config.order.regards.order.periodic.files.availability.check.cron}" />
		</field>
	</panel>

	<panel id="IngestPanel">
		<field id="ingest.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="ingest.count">
			<spec>
				<col>
					<field type="text" variable="ingest.host">
						<spec id="host.label" size="15" default="${ingest.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="ingest.port">
						<spec id="port.label" size="15" default="${ingest.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="IngestPropertiesPanel">
		<field id="ingest.panel.title.label.properties" type="title" />
		<field type="staticText" id="first.project.database.label" />
		<field type="rule"
			variable="regards.config.ingest.regards.jpa.multitenant.tenants.url.1">
			<spec
				default="${regards.config.ingest.regards.jpa.multitenant.tenants.url.1}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.ingest.regards.jpa.multitenant.tenants.user.name.1">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.ingest.regards.jpa.multitenant.tenants.password.1">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="text" variable="regards.config.ingest.regards.jobs.pool.size">
			<spec id="jobs.pool.size" size="15"
				default="${regards.config.ingest.regards.jobs.pool.size}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="staticText" id="jobs.completion.update.rate.ms.header" />
		<field type="text"
			variable="regards.config.ingest.regards.jobs.completion.update.rate.ms">
			<spec id="jobs.completion.update.rate.ms" size="15"
				default="${regards.config.ingest.regards.jobs.completion.update.rate.ms}" />
		</field>

		<field type="staticText" id="jobs.retention.days.header" />
		<field type="text"
			variable="regards.config.ingest.regards.jobs.succeeded.retention.days">
			<spec id="jobs.succeeded.retention.days" size="15"
				default="${regards.jobs.succeeded.retention.days.default.value}" />
		</field>
		<field type="text"
			variable="regards.config.ingest.regards.jobs.failed.retention.days">
			<spec id="jobs.failed.retention.days" size="15"
				default="${regards.jobs.failed.retention.days.default.value}" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="staticText" id="ingest.aips.bulk.request.limit.header" />
		<field type="text" variable="regards.config.ingest.aips.bulk.request.limit">
			<spec id="ingest.aips.bulk.request.limit" size="8"
				default="${regards.config.ingest.aips.bulk.request.limit.default.value}" />
		</field>

	</panel>

	<panel id="DataProviderPanel">
		<field id="dataprovider.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="dataprovider.count">
			<spec>
				<col>
					<field type="text" variable="dataprovider.host">
						<spec id="host.label" size="15" default="${dataprovider.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="dataprovider.port">
						<spec id="port.label" size="15" default="${dataprovider.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="DataProviderPropertiesPanel">
		<field id="dataprovider.panel.title.label.properties" type="title" />

		<field type="staticText" id="first.project.database.label" />
		<field type="rule"
			variable="regards.config.dataprovider.regards.jpa.multitenant.tenants.url.1">
			<spec
				default="${regards.config.dataprovider.regards.jpa.multitenant.tenants.url.1}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.dataprovider.regards.jpa.multitenant.tenants.user.name.1">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.dataprovider.regards.jpa.multitenant.tenants.password.1">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="text" variable="regards.config.dataprovider.regards.jobs.pool.size">
			<spec id="jobs.pool.size" size="15"
				default="${regards.config.dataprovider.regards.jobs.pool.size}" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
		<field type="staticText" id="jobs.completion.update.rate.ms.header" />
		<field type="text"
			variable="regards.config.dataprovider.regards.jobs.completion.update.rate.ms">
			<spec id="jobs.completion.update.rate.ms" size="15"
				default="${regards.config.dataprovider.regards.jobs.completion.update.rate.ms}" />
		</field>

		<field type="staticText" id="jobs.retention.days.header" />
		<field type="text"
			variable="regards.config.dataprovider.regards.jobs.succeeded.retention.days">
			<spec id="jobs.succeeded.retention.days" size="15"
				default="${regards.jobs.succeeded.retention.days.default.value}" />
		</field>
		<field type="text"
			variable="regards.config.dataprovider.regards.jobs.failed.retention.days">
			<spec id="jobs.failed.retention.days" size="15"
				default="${regards.jobs.failed.retention.days.default.value}" />
		</field>

		<field type="space" />
		<field type="divider" />
		<field type="space" />

		<field type="staticText" id="dataprovider.panel.waiting.label"
			bold="true" />
		<field type="space" />

		<field type="text" variable="regards.acquisition.process.new.sip.ingest.delay">
			<spec id="dataprovider.panel.sip.ingest.delay" size="8"
				default="${regards.acquisition.process.new.sip.ingest.delay.default.value}" />
		</field>
		<field type="text" variable="regards.acquisition.process.run.chains.delay">
			<spec id="dataprovider.panel.run.chains.delay" size="8"
				default="${regards.acquisition.process.run.chains.delay.default.value}" />
		</field>

		<field type="space" />
		<field type="staticText" id="dataprovider.panel.folder" bold="true" />
		<field type="space" />

		<field type="text" variable="regards.acquisition.cycle.orf.conf.path">
			<spec id="dataprovider.panel.cycle.orf.folder" size="24"
				default="${regards.acquisition.cycle.orf.conf.path.default.value}" />
		</field>
		<field type="text" variable="regards.acquisition.plugins.translations.path">
			<spec id="dataprovider.panel.translations.folder" size="24"
				default="${regards.acquisition.plugins.translations.path.default.value}" />
		</field>
		<field type="text" variable="regards.acquisition.plugins.conf.path">
			<spec id="dataprovider.panel.plugin.confs.folder" size="24"
				default="${regards.acquisition.plugins.conf.path.default.value}" />
		</field>
		<field type="text" variable="regards.acquisition.plugins.cycles.path">
			<spec id="dataprovider.panel.cycles.folder" size="24"
				default="${regards.acquisition.plugins.cycles.path.default.value}" />
		</field>
		<field type="text" variable="regards.acquisition.chains.cycles.path">
			<spec id="dataprovider.panel.histo.orf.folder" size="24"
				default="${regards.acquisition.chains.cycles.path.default.value}" />
		</field>
	</panel>

	<panel id="AccessInstancePanel">
		<field id="access-instance.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="access-instance.count">
			<spec>
				<col>
					<field type="text" variable="access-instance.host">
						<spec id="host.label" size="15" default="${access-instance.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="access-instance.port">
						<spec id="port.label" size="15" default="${access-instance.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="AccessInstancePropertiesPanel">
		<field id="access-instance.panel.title.label.properties" type="title" />

		<field type="staticText" id="instance.database.label" bold="true" />
		<field type="rule"
			variable="regards.config.access.instance.regards.jpa.instance.datasource.url">
			<spec
				default="${regards.config.access.instance.regards.jpa.instance.datasource.url}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.access.instance.regards.jpa.instance.datasource.user.name">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.access.instance.regards.jpa.instance.datasource.password">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
	</panel>

	<panel id="AccessProjectPanel">
		<field id="access-project.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="access-project.count">
			<spec>
				<col>
					<field type="text" variable="access-project.host">
						<spec id="host.label" size="15" default="${access-project.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="access-project.port">
						<spec id="port.label" size="15" default="${access-project.port}" />
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
	</panel>

	<panel id="AccessProjectPropertiesPanel">
		<field id="access-project.panel.title.label.properties" type="title" />

		<field type="staticText" id="first.project.database.label" bold="true" />
		<field type="rule"
			variable="regards.config.access.project.regards.jpa.multitenant.tenants.url.1">
			<spec
				default="${regards.config.access.project.regards.jpa.multitenant.tenants.url.1}"
				id="url.label" layout="O:15:U : N:5:U / O:15:U" resultFormat="displayFormat" />
		</field>
		<field type="text"
			variable="regards.config.access.project.regards.jpa.multitenant.tenants.user.name.1">
			<spec id="username.label" size="15" />
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.username.label" />
		</field>
		<field type="password"
			variable="regards.config.access.project.regards.jpa.multitenant.tenants.password.1">
			<spec>
				<pwd id="password.label" size="15" />
			</spec>
			<validator
				class="com.izforge.izpack.panels.userinput.validator.NotEmptyValidator"
				id="validator.notempty.password.label" />
		</field>
	</panel>

	<panel id="FrontendPanel">
		<field id="frontend.panel.title.label" type="title" />
		<field type="custom" minRow="1" maxRow="50" variable="frontend.count">
			<spec>
				<col>
					<field type="text" variable="frontend.host">
						<spec id="host.label" size="15" default="${frontend.host}" />
					</field>
				</col>
				<col>
					<field type="text" variable="frontend.port">
						<spec id="port.label" size="15" default="${frontend.port}">
						</spec>
						<validator
							class="com.izforge.izpack.panels.userinput.validator.PortValidator"
							id="validator.port.error.label" />
					</field>
				</col>
			</spec>
		</field>
		<field type="space" />
		<field type="divider" />
		<field type="space" />
		<field type="staticText" id="frontend.panel.gateway.label" bold="true" />
		<field type="rule" variable="regards.config.cloud.gateway.url">
			<spec default="${regards.config.cloud.gateway.url}" id="url.label"
				layout="O:5:U :// O:15:U : N:5:U" resultFormat="displayFormat" />
		</field>
	</panel>

	<panel id="CheckJdbcConnectionsPanel">
		<field id="check.jdbc.connections.panel.title" type="title" />
		<field id="check.jdbc.connections.panel.detail" type="staticText" />

		<field type="button" conditionid="izpack.selected.authentication"
			id="components.authentication">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.AuthenticationJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.admin-instance" id="components.admin.instance">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.AdminInstanceJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.admin" id="components.admin.project">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.AdminProjectJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.dam" id="components.dam">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.DamJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.catalog" id="components.catalog">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.CatalogJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.ingest" id="components.ingest">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.IngestJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.order" id="components.order">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.OrderJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.dataprovider"
			id="components.dataprovider">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.DataProviderJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.storage" id="components.storage">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.StorageJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.access-instance" id="components.access.instance">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.AccessInstanceJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" conditionid="izpack.selected.access-project" id="components.access.project">
			<spec id="connection.tester.test" successMsg="connection.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.AccessProjectJdbcConnectionTester">
					<msg id="connection.tester.fail" name="error" />
				</run>
			</spec>
		</field>


		<field type="button" conditionid="izpack.selected.dam" id="components.dam.elastic">
			<spec id="connection.tester.test" successMsg="elasticsearch.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.ElasticsearchConnectionTester">
					<msg id="elasticsearch.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" id="components.rabbit.test">
			<spec id="connection.tester.test" successMsg="rabbit.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.AmqpConnectionTester">
					<msg id="rabbit.tester.fail" name="error" />
				</run>
			</spec>
		</field>

		<field type="button" id="components.rabbit.management.test">
			<spec id="connection.tester.test" successMsg="rabbit.tester.success">
				<run
					class="fr.cnes.regards.deployment.izpack.custom.button.AmqpAdminConnectionTester">
					<msg id="rabbit.tester.fail" name="error" />
				</run>
			</spec>
		</field>

	</panel>

</izpack:userinput>
